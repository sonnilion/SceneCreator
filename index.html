<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
      SceneCreator
    </title>
    <link type="text/css" href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/colorpicker.css" type="text/css" />
    <script type="text/javascript" src="js/jquery/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="js/jquery/jquery-ui-1.8.9.custom.min.js"></script>
    <script type="text/javascript" src="js/jquery/colorpicker.js"></script>
    <script type="text/javascript" src="js/c3dl/c3dapi.js"></script>
    <script src="js/processing/processing.js"></script>
    <script type="text/javascript" src="js/scenecreator.js"></script>
  </head>
  <body>
    <div id="viewerMain">
      <div id="viewer-buttons">
        <input type="button" value="Back" onclick="show3d();" /> 
        <br/>
      </div>
      <div id="updateTexture-buttons">
        <input type="button" value="OK" onclick="updateTexturesInScene();" /> 
        <input type="button" value="Cancel" onclick="show3d();" /> 
        <br/>
      </div>
      <canvas id="objectViewer" width="800" height="600"></canvas>
      <div id="object-textures"></div>
    </div>
    <div id="mainImages">
      <div id="tool-tabs">
        <ul>
          <li><a href="#File">File</a></li>
          <li><a href="#SceneOptions">Scene Options</a></li>
          <li><a href="#Help">Help</a></li>
        </ul>
        <div id="File" >
          <a style="cursor: pointer" onclick="load();">Load</a><br/>
          <a style="cursor: pointer" onclick="save();">Save</a><br/>
          <a style="cursor: pointer" onclick="saveAs();">SaveAs</a><br/>
        </div>
        <div id="SceneOptions" >
          <a style="cursor: pointer" onclick="show2d();">2D</a><br/>
          <a style="cursor: pointer" onclick="show3d();">3D</a><br/>
        </div>
        <div id="Help">
          <a style="text-decoration:none" href="http://zenit.senecac.on.ca/wiki/index.php/SceneCreator" target="_blank">About SceneCreator</a> 
        </div>
      </div>
    </div>
    <div id="main3d">
      <div id="3d-tool-tabs">
        <ul>
          <li><a href="#File">File</a></li>
          <li><a href="#SceneOptions">Scene Options</a></li>
          <li><a href="#ObjectOptions">Object Options</a></li>
          <li><a href="#ObjectWidgets">Object Widgets</a></li>
          <li><a href="#Help">Help</a></li>
        </ul>
        <div id="File" >
          <a style="cursor: pointer" onclick="load();">Load</a><br/>
          <a style="cursor: pointer" onclick="save();">Save</a><br/>
          <a style="cursor: pointer" onclick="saveAs();">SaveAs</a><br/>
          <a style="cursor: pointer" onclick="undo();">Undo</a><br/>
          <a style="cursor: pointer" onclick="redo();">Redo</a>
        </div>
        <div id="SceneOptions" >
          <a style="cursor: pointer" onclick="show2d();">2D</a><br/>
          <a style="cursor: pointer" onclick="showImages();">Veiw Saved Images</a><br/>
          <a style="cursor: pointer" onclick="var img = document.createElement('img'); document.getElementById('mainImages').appendChild(img); img.src = getPNG();">Save Image</a><br/>
        </div>
        <div id="ObjectOptions">
          <a style="cursor: pointer" onclick="viewObject();">View Object</a><br/>
          <a style="cursor: pointer" onclick="copySelected();">Clone</a><br/>
          <a style="cursor: pointer" onclick="deleteSelected();">Delete</a><br/>
          <a style="cursor: pointer" onclick="rotate();">Rotate</a><br/>
          <a style="cursor: pointer" onclick="scale();">Scale</a><br/>
        </div>
        <div id="ObjectWidgets">
          <a style="cursor: pointer" onclick="toggleMoveWidget();">Move</a><br/>
          <a style="cursor: pointer" onclick="toggleScaleWidget();">Scale</a><br/>
          <a style="cursor: pointer" onclick="toggleRotateWidget();">Rotate</a>
        </div>
        <div id="Help">
          <a style="text-decoration:none" href="http://zenit.senecac.on.ca/wiki/index.php/SceneCreator" target="_blank">About SceneCreator</a> 
        </div>
      </div>
      <div id="dialog-saveAs" title="Save As">
	      <form>
          <fieldset>
            <label>File Name:</label>
            <input type="text" name="name" id="name" class="ui-widget-content ui-corner-all" />
          </fieldset>
	      </form>
        <p class="validateTips"></p>
      </div>
      <div id="dialog-load" title="Load">
	      <form>
          <fieldset>
            <label>Select file name:</label> <br />
            <select id="selectedname" name="selectedname"></select>
          </fieldset>
	      </form>
        <p class="validateTips"></p>
      </div>
      <div id="dialog-create-sphere" title="Sphere Primitive">
	      <form>
          <fieldset>
            <label>Raduis:</label> 
             <input type="text" id="sRaduis" class="ui-widget-content ui-corner-all" /><br/>
            <label>Detail U:</label>
            <input type="text" id="sDetailU" class="ui-widget-content ui-corner-all" value="32"/><br/>
            <label>Detail V:</label>
            <input type="text" id="sDetailV" class="ui-widget-content ui-corner-all" value="32"/>
          </fieldset>
	      </form>
        <p class="validateTips"></p>
      </div>
      <div id="dialog-create-cube" title="Cube Primitive">
	      <form>
          <fieldset>
            <label>Legth:</label>
            <input type="text" name="cubeLength" id="cubeLength" class="ui-widget-content ui-corner-all" /><br/>
            <label>Width:</label>
            <input type="text" name="cubeWidth" id="cubeWidth" class="ui-widget-content ui-corner-all" /><br/>
            <label>Height:</label>
            <input type="text" name="cubeHeight" id="cubeHeight" class="ui-widget-content ui-corner-all" />
          </fieldset>
	      </form>
        <p class="validateTips"></p>
      </div>
      <div id="dialog-create-plane" title="Cube Primitive">
	      <form>
          <fieldset>
            <label>Legth:</label>
            <input type="text" name="planeLength" id="planeLength" class="ui-widget-content ui-corner-all" /><br/>
            <label>Width:</label>
            <input type="text" name="planeWidth" id="planeWidth" class="ui-widget-content ui-corner-all" /><br/>
          </fieldset>
	      </form>
        <p class="validateTips"></p>
      </div>
      <div id="dialog-object-properties" title="Cube Primitive">
	      <form>
          <fieldset>
            <label>Object will be placed on:</label>
            <select id="placement" name="placement">
              <option value="floor">Floor</option>
              <option value="object">Floor or other objects</option>
              <option value="wall">Wall</option>
              <option value="ceiling">Ceiling</option>
            </select> <br/>
            <label>Can other objects rest on top?</label>
            <select id="stand" name="stand">
              <option value=true>Yes</option>
              <option value=false>No</option>
            </select>
          </fieldset>
	      </form>
      </div>
      <table> 
        <tr>
          <td valign=top rowspan="3" id="sidebar"> 
            <h3>Object List</h3>
            <div id="accordion">
              <div>
                <h3><a href="#">House</a></h3>
                <div>        
                  <button onclick="createObject(CHAIR_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/chair.jpg', false, false, [0.08, 0.08, 0.08])"><img src="images/sidebar/chair.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(TABLE_PATH, 'object', 'floor', true, 'Name', 'Description', 'images/sidebar/table.jpg', false, false, [0.25, 0.25, 0.25])"><img src="images/sidebar/table.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(LAMP_PATH, 'object', 'object', false, 'Name', 'Description', 'images/sidebar/lamp.jpg', false, true, [0.1, 0.1, 0.1])"><img src="images/sidebar/lamp.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(CEILINGLAMP_PATH, 'object', 'ceiling', false, 'Name', 'Description', 'images/sidebar/ceilinglamp.jpg', false, true, [0.08, 0.08, 0.08])"><img src="images/sidebar/ceilinglamp.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(PICTURE_PATH, 'object', 'wall', false,  'Name', 'Description', 'images/sidebar/picture.jpg', false, false, [0.06, 0.06, 0.06])"><img src="images/sidebar/picture.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(CEILINGLIGHT_PATH, 'object', 'ceiling', false, 'Name', 'Description', 'images/sidebar/ceilinglight.jpg', false, true, [0.05, 0.05, 0.05])"><img src="images/sidebar/ceilinglight.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(CEILINGLIGHT2_PATH, 'object', 'ceiling', false, 'Name', 'Description', 'images/sidebar/ceilinglight2.jpg', false, true, [0.1, 0.1, 0.1])"><img src="images/sidebar/ceilinglight2.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(COMPCHAIR_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/compchair.jpg', false, false, [0.007, 0.007, 0.007])"><img src="images/sidebar/compchair.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(CEILINGFAN_PATH, 'object', 'ceiling', false, 'Name', 'Description', 'images/sidebar/ceilingfan.jpg', false, false, [0.05, 0.05, 0.05])"><img src="images/sidebar/ceilingfan.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(COFFEETABLE_PATH, 'object', 'floor', true, 'Name', 'Description', 'images/sidebar/coffeetable.jpg', false, false, [0.2, 0.2, 0.2])"><img src="images/sidebar/coffeetable.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(SIDETABLE_PATH, 'object', 'floor', true, 'Name', 'Description', 'images/sidebar/sidetable.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/sidetable.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(TABLE2_PATH, 'object', 'floor', true,  'Name', 'Description', 'images/sidebar/woodtable.jpg', false, false, [0.03, 0.03, 0.03])"><img src="images/sidebar/woodtable.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(CHAIR2_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/woodchair.jpg', false, false, [6, 6, 6])"><img src="images/sidebar/woodchair.jpg" width="25px" height="25px"/></button>      
                  <button onclick="createObject(SOFA_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/sofa.jpg', false, false, [0.007, 0.007, 0.007])"><img src="images/sidebar/sofa.jpg" width="25px" height="25px"/></button>      
                  <button onclick="createObject(SOFA2_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/sofa2.jpg', false, false, [0.15, 0.15, 0.15])"><img src="images/sidebar/sofa2.jpg" width="25px" height="25px"/></button>                     
                </div>
              </div>
              <div>
                <h3><a href="#">Tech</a></h3>
                <div>
                  <button onclick="createObject(LEXMARKPRINTER_PATH, 'object', 'object', false, 'Name', 'Description', 'images/sidebar/printer.jpg', false, false, [0.01, 0.01, 0.01])"><img src="images/sidebar/printer.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(ALIENWAREPC_PATH, 'object', 'object', false, 'Name', 'Description', 'images/sidebar/pc.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/pc.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(APLLEMACPRO_PATH, 'object', 'object', false, 'Name', 'Description', 'images/sidebar/sidebar.jpg', false, false, [0.005, 0.005, 0.005])"><img src="images/sidebar/mac.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(HPMONITOR_PATH, 'object', 'object', false, 'Name', 'Description', 'images/sidebar/monitor.jpg', false, false, [0.2, 0.2, 0.2])"><img src="images/sidebar/monitor.jpg" width="25px" height="25px"/></button>
                </div>
              </div>
              <div>
                <h3><a href="#">Servers and Racks</a></h3>
                <div>
                  <button onclick="createObject(SERVERRACK_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/APC3100.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/APC3100.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(SERVERRACK2_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/ServerRackwithKeypad.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/ServerRackwithKeypad.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(SERVERRACK3_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/panduitCS1.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/panduitCS1.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(RACKMOUNTSERVER2_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/barracuda350.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/barracuda350.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(RACKMOUNTSERVER3_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/RackMountServer-1U.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/RackMountServer-1U.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(RACKMOUNTSERVER_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/RackMountServer-2U.jpg', false, false, [0.1, 0.1, 0.1])"><img src="images/sidebar/RackMountServer-2U.jpg" width="25px" height="25px"/></button>
                </div>
              </div>
              <div>
                <h3><a href="#">Primitives</a></h3>
                <div>
                  <button onclick="setObjectProperties(createSphere)">Sphere</button>
                  <button onclick="setObjectProperties(createCube)">Cube</button> 
                  <button onclick="setObjectProperties(createPlane)">Plane</button>
                </div>
              </div>
              <div>
                <h3><a href="#">PacMan</a></h3>
                <div>
                  <button onclick="createObject(PACMAN_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/pacman.jpg', false, false, [0.005, 0.005, 0.005])"><img src="images/sidebar/pacman.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(REDGHOST_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/redghost.jpg', false, false, [5, 5, 5])"><img src="images/sidebar/redghost.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(BLUEGHOST_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/blueghost.jpg', false, false, [5, 5, 5])"><img src="images/sidebar/blueghost.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(ORANGEGHOST_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/orangeghost.jpg', false, false, [5, 5, 5])"><img src="images/sidebar/orangeghost.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(PINKGHOST_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/pinkghost.jpg', false, false, [5, 5, 5])"><img src="images/sidebar/pinkghost.jpg" width="25px" height="25px"/></button>
                  <button onclick="createObject(PACMANBALL_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/bigball.jpg', false, false, [0.04, 0.04, 0.04])"><img src="images/sidebar/bigball.jpg" width="25px" height="25px"/></button> 
                  <button onclick="createObject(PACMANBALL_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/sidebar/smallball.jpg', false, false, [0.02, 0.02, 0.02])"><img src="images/sidebar/smallball.jpg" width="25px" height="25px"/></button> 
                </div>
              </div>
              <div>
                <h3><a href="#">Special</a></h3>
                <div>
                  <button onclick="showTwitter()"><img src="images/sidebar/twitter.jpg" width="25px" height="25px" /></button> 		
                  <button onclick="createClock()"><img src="images/sidebar/pjs.jpg" width="25px" height="25px"/></button> 		
                  <button onclick="showFlickr()"><img src="images/sidebar/flickr.jpg" width="25px" height="25px"/></button> 		
                  <button onclick="showImageSrcDiv()"><img src="images/sidebar/poster.jpg" width="25px" height="25px"/></button> 	
                  <button onclick="showVideoSrcDiv()"><img src="images/sidebar/video.jpg" width="25px" height="25px"/></button> 	
                  <button onclick="createTV()"><img src="images/sidebar/video.jpg" width="25px" height="25px"/></button>	
                </div>
              </div>
              <div>
                <h3><a href="#">SceneCaster Tester Items</a></h3>
                <div>
                  <button onclick="createObject(SC1_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">810</button> 			
                  <button onclick="createObject(SC2_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">868</button> 	
                  <button onclick="createObject(SC3_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-108-3</button> 	
                  <button onclick="createObject(SC4_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-110-3</button> 	
                  <button onclick="createObject(SC5_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-839</button> 	
                  <button onclick="createObject(SC6_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-1454</button> 	
                  <button onclick="createObject(SC7_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-2200</button> 	
                  <button onclick="createObject(SC8_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-2314</button> 	
                  <button onclick="createObject(SC9_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.2, 0.2, 0.2])">k-2605</button> 	
                  <button onclick="createObject(SC10_PATH, 'object', 'floor', false, 'Name', 'Description', 'images/none.jpg', false, false,[0.02, 0.02, 0.02])">k-15136</button> 	
                </div>
              </div>
            </div>
          </td>
          <td rowspan="3">
            <canvas id="SceneCaster3d"></canvas><br/>
            <span id="fps"></span> <br/>
            <span id="testing"></span>
          </td>
          <td valign=top>
            <table>
              <tr align=center>
                <td>Height</td>
                <td></td>
                <td></td>
                <td></td>
                <td>Zoom</td>
              </tr>
              <tr align=center>
                <td><input type="button" title="Increase camera height" value="+" onmousedown="buttonOn(6)" onmouseup="buttonOff(6)" /></td>
                <td></td>
                <td><input type="button" title="Move forward" value="&uarr;" onmousedown="buttonOn(10)" onmouseup="buttonOff(10)"/></td>
                <td></td>
                <td><input type="button" Title="Zoom in" value="+" onmousedown="buttonOn(8)" onmouseup="buttonOff(8)" /></td>
              </tr>
              <tr align=center>
                <td><div id="updownslider"></div></td>
                <td><input type="button" Title="Move left" value="&larr;" onmousedown="buttonOn(12)" onmouseup="buttonOff(12)" /></td>
                <td><input type="hidden" id="topview" value=""><canvas id="CameraWidget" data-processing-sources="js/camerawidget.pjs"></canvas></td>
                <td><input type="button" Title="Move right" value="&rarr;" onmousedown="buttonOn(13)" onmouseup="buttonOff(13)" /></td>
                <td><div id="zoomslider"></div></td>
              </tr>
              <tr align=center>
                <td><input type="button" title="Decrease camera height" value="-" onmousedown="buttonOn(7)" onmouseup="buttonOff(7)" /></td>
                <td></td>
                <td><input type="button" title="Move backward" value="&darr;" onmousedown="buttonOn(11)" onmouseup="buttonOff(11)"/></td>
                <td></td>
                <td><input type="button" title="Zoom out" value="-" onmousedown="buttonOn(9)" onmouseup="buttonOff(9)" /></td>
              </tr>
              <tr>
                <td colspan="5" align=center>
                  <input type="button" value="<< Cam" onclick="backCam()" />
                  <input type="button" value="Top View" onclick="topView()" />
                  <input type="button" value="Cam >>" onclick="forwardCam()" />
                </td>
              </tr>
            </table>
          </td>
        </tr>
        <tr valign=top>
          <td>
            <div id="scaleDiv">
              <h3>Size</h3>
              <form>
                <table>
                  <tr>  
                    <td>Length:</td>
                    <td><input type="text" id="length" onfocus="setCurLength()" onchange="maintainAspectRatioLength()"/></td> 
                  </tr>
                  <tr>
                    <td>Width:</td>
                    <td><input type="text" id="width" onfocus="setCurWidth()" onchange="maintainAspectRatioWidth()"/></td>      
                  </tr>
                  <tr>
                    <td>Hieght:</td>
                    <td><input type="text" id="height" onfocus="setCurHeigth()" onchange="maintainAspectRatioHeight()" /> </td>
                  </tr>
                </table>
                <input type="checkbox" checked=checked id="mar" /> Maintain Aspect Ratio<br />
                <input type="button" value="Back" onclick="scaleCancel()"/>
                <input type="button" value="OK" onclick="scaleOk()"/>
              </form>
              <script type="text/javascript">
                function scaleOk() {
                  setSize(document.getElementById("length").value, document.getElementById("width").value, document.getElementById("height").value);
                  scaleEffect();
                }
                function scaleCancel() {
                  scaleEffect();
                }               
                function maintainAspectRatioLength(){
                  document.getElementById("length").value = parseFloat(document.getElementById("length").value).toFixed(2);
                  if (document.getElementById("mar").checked) { 
                    newLength = document.getElementById("length").value;
                    if (newLength > oldLength) {
                      document.getElementById("width").value= (document.getElementById("width").value * (newLength / oldLength)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value* (newLength / oldLength)).toFixed(2);
                    }
                    else if (newLength < oldLength) {
                      document.getElementById("width").value= document.getElementById("width").value * 1/(oldLength / newLength).toFixed(2);
                      document.getElementById("height").value= document.getElementById("height").value * 1/(oldLength / newLength).toFixed(2);
                    }
                  }
                }
                function maintainAspectRatioWidth(){
                  document.getElementById("width").value = parseFloat(document.getElementById("width").value).toFixed(2);
                  if (document.getElementById("mar").checked) {
                    newWidth = document.getElementById("width").value;
                    if (newWidth > oldWidth) {
                      document.getElementById("length").value= (document.getElementById("length").value * (newWidth / oldWidth)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value* (newWidth / oldWidth)).toFixed(2);
                    }
                    else if (newWidth < oldWidth) {
                      document.getElementById("length").value= (document.getElementById("length").value * 1/(oldWidth / newWidth)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value * 1/(oldWidth / newWidth)).toFixed(2);
                    }
                  }
                }
                function maintainAspectRatioHeight(){
                  document.getElementById("height").value = parseFloat(document.getElementById("height").value).toFixed(2);  
                  if (document.getElementById("mar").checked) {
                    newHeight = document.getElementById("height").value;
                    if (newHeight > oldHeight) {
                      document.getElementById("width").value= (document.getElementById("width").value * (newHeight / oldHeight)).toFixed(2);
                      document.getElementById("length").value= (document.getElementById("length").value* (newHeight / oldHeight)).toFixed(2);
                    }
                    else if (newHeight < oldHeight) {
                      document.getElementById("width").value= (document.getElementById("width").value * 1/(oldHeight / newHeight)).toFixed(2);
                      document.getElementById("length").value= (document.getElementById("length").value * 1/(oldHeight / newHeight)).toFixed(2);
                    }
                  }
                }
                function setCurHeigth() {
                  oldHeight= document.getElementById("height").value;
                }
                function setCurLength() {
                  oldLength= document.getElementById("length").value;
                 }
                function setCurWidth() {
                  oldWidth= document.getElementById("width").value;
                }
              </script>
            </div>
            <div id="rotateDiv">
              <h3>Rotation</h3>
              <form>
                <table>
                  <tr>  
                    <td>Axis</td>
                    <td>
                      <select id="rotAxis" name="rotAxis">
                        <option>X</option>
                        <option>Y</option>
                        <option>Z</option>
                      </select>     
                    </td> 
                  </tr>
                  <tr> 
                    <td>Angle:</td>
                    <td><input type="rotAngle" id="rotAngle" /></td>      
                  </tr>
                </table>
                <input type="button" value="Back" onclick="rotateCancel()"/>
                <input type="button" value="OK" onclick="rotateOk()"/>
              </form>
              <script type="text/javascript">
                function rotateOk() {
                  var axis = document.getElementById("rotAxis").value;
                  if (axis === "X") {
                    axis = [1,0,0];
                  }
                  else if (axis === "Y") {
                    axis = [0,1,0];
                  }
                  else {
                    axis = [0,0,1];
                  }
                  var rot = (parseFloat(document.getElementById("rotAngle").value) * Math.PI) /180;
                  rotateOnAxis(axis, rot);
                  rotateEffect();
                }
                function rotateCancel() {
                  rotateEffect();
                }  
              </script> 
            </div>
          </td>
        </tr>
        <tr>
          <td valign=bottom>
            <div id="objInfo">
              <h3>Object Info</h3>
              <img id= "objPic" width="50px" height="50px" />
              <table>
                <tr>  
                  <td>Name:</td>
                  <td><span id="objName"></span></td> 
                </tr>
                <tr> 
                  <td>Description:</td>
                  <td><span id="objDes"></span></td>      
                </tr>
                <tr> 
                  <td>Pos:</td>
                  <td><span id="objPos"></span></td>      
                </tr>
              </table>
              <span id="videoControls">
                <input type="button" value="Play" onclick="playVideo();" /> 
                <div id="seekSlider"></div>
                <input type="button" value="Mute" onclick="muteVideo();" /> 
                <div id="volumeSlider"></div> 
              </span>
              <span id="edit">
                <input type="button" value="Edit Texture" onclick="editObjectTextures();" /> 
                <input id="edit-button" type="button" value="Edit" onclick="editObject();" /> 
              </span>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div id="main2d">
      <div id="2d-tool-tabs">
        <ul>
          <li><a href="#File">File</a></li>
          <li><a href="#SceneOptions">Scene Options</a></li>
          <li><a href="#2dOptions">2D Options</a></li>
          <li><a href="#Help">Help</a></li>
        </ul>
        <div id="File" >
          <a style="cursor: pointer" onclick="load();">Load</a><br/>
          <a style="cursor: pointer" onclick="save();">Save</a><br/>
          <a style="cursor: pointer" onclick="saveAs();">SaveAs</a><br/>
          <a style="cursor: pointer" onclick="Processing.getInstanceById('SceneCaster2d').undo();">Undo</a><br/>
          <a style="cursor: pointer" onclick="Processing.getInstanceById('SceneCaster2d').redo();">Redo</a>
        </div>
        <div id="SceneOptions" >
          <a style="cursor: pointer" onclick="show3d();">3D</a><br/>
          <a style="cursor: pointer" onclick="showImages();">Veiw Saved Images</a><br/>
        </div>
        <div id="2dOptions">
          <a style="cursor: pointer" onclick="Processing.getInstanceById('SceneCaster2d').newPage();">New Scene</a><br/>
          <a style="cursor: pointer" onclick="Processing.getInstanceById('SceneCaster2d').deleteSeletected();">Delete</a><br/>
          <a style="cursor: pointer" onclick="Processing.getInstanceById('SceneCaster2d').drawWallPress();">Draw walls</a><br/>
        </div>
        <div id="Help">
          <a style="text-decoration:none" href="http://zenit.senecac.on.ca/wiki/index.php/SceneCreator" target="_blank">About SceneCreator</a> 
        </div>
      </div>
      <canvas id="SceneCaster2d" data-processing-sources="js/scenecreator2d.pjs" width="550" height="550"></canvas>
      <span id="testingg"></span>
      <script>
        scaleEffect();
        rotateEffect();
       </script>
    </div>
    <div id="TwitterDiv">
      <form action="test.html" method="get">
        <table id="advForm" cellspacing="0">
          <tr>
            <td colspan="2">
              <b>Find tweets based on...</b>
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <th>
              Words
            </th>
            <td>
              All of these words
            </td>
            <td>
              <input id="ands" name="ands" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              This exact phrase
            </td>
            <td>
              <input id="phrase" name="phrase" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Any of these words
            </td>
            <td>
              <input id="ors" name="ors" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              None of these words
            </td>
            <td>
              <input id="nots" name="nots" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              This hashtag
            </td>
            <td>
              <input id="tag" name="tag" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Written in
            </td>
            <td>
              <select id="lang" name="lang">
                <option value="all" selected="selected">Any Language</option>
                <option value="ar">Arabic (العربية)</option>
                <option value="da">Danish (dansk)</option>
                <option value="nl">Dutch (Nederlands)</option>
                <option value="en">English</option>
                <option value="fa">Farsi / Persian (فارسی)</option>
                <option value="fi">Finnish (suomen kieli)</option>
                <option value="fr">French (français)</option>
                <option value="de">German (Deutsch)</option>
                <option value="hu">Hungarian (Magyar)</option>
                <option value="is">Icelandic (Íslenska)</option>
                <option value="it">Italian (Italiano)</option>
                <option value="ja">Japanese (日本語)</option>
                <option value="no">Norwegian (Norsk)</option>
                <option value="pl">Polish (polski)</option>
                <option value="pt">Portuguese (Português)</option>
                <option value="ru">Russian (русский язык)</option>
                <option value="es">Spanish (español)</option>
                <option value="sv">Swedish (Svenska)</option>
                <option value="th">Thai (ไทย)</option>
              </select>
              <span>(persistent)</span>
            </td>
          </tr>
          <tr>
            <td colspan="3">
            </td>
          </tr>
          <tr>
            <th>
              People
            </th>
            <td>
              From this person
            </td>
            <td>
              <input id="from" name="from" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              To this person
            </td>
            <td>
              <input id="to" name="to" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Referencing this person
            </td>
            <td>
              <input id="ref" name="ref" type="text" />
            </td>
          </tr>
          <tr>
            <td colspan="3">
            </td>
          </tr>
          <tr>
            <th>
              Places
            </th>
            <td>
              Near this place
            </td>
            <td>
              <input id="near" name="near" type="text" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Within this distance
            </td>
            <td>
              <select id="within" name="within">
                <option value="1">1</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15" selected="selected">15</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="500">500</option>
                <option value="1000">1000</option>
              </select>
              <input checked="checked" id="units_mi" name="units" type="radio" value="mi" /> miles <input id="units_km" name="units" type="radio" value="km" /> kilometers
            </td>
          </tr>
          <tr>
            <td colspan="3">
            </td>
          </tr>
          <tr>
            <th>
              Dates
            </th>
            <td>
              Since this date
            </td>
            <td>
              <input id="since" name="since" type="text" /> (YYYY-MM-DD)
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Until this date
            </td>
            <td>
              <input id="until" name="until" type="text" /> (YYYY-MM-DD)
            </td>
          </tr>
          <tr>
            <td colspan="3">
            </td>
          </tr>
          <tr>
            <th>
              Attitudes
            </th>
            <td>
              With positive attitude :)
            </td>
            <td>
              <input id="tude1" name="tude1" type="checkbox" value=":)" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              With negative attitude :(
            </td>
            <td>
              <input id="tude2" name="tude2" type="checkbox" value=":(" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Asking a question ?
            </td>
            <td>
              <input id="tude3" name="tude3" type="checkbox" value="?" />
            </td>
          </tr>
          <tr>
            <td colspan="3">
            </td>
          </tr>
          <tr>
            <th>
              Other
            </th>
            <td>
              Containing links
            </td>
            <td>
              <input id="filter" name="filter" type="checkbox" value="links" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Include retweets
            </td>
            <td>
              <input id="include" name="include" type="checkbox" value="retweets" />
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td>
              Results per page
            </td>
            <td>
              <select id="rpp" name="rpp">
                <option value="10">10</option>
                <option value="15" selected="selected">15</option>
                <option value="20">20</option>
                <option value="25">25</option>
                <option value="30">30</option>
                <option value="50">50</option>
              </select>
              <span>(persistent)</span>
            </td>
          </tr>
          <tr>
            <th>
            </th>
            <td colspan="2">
              <input type="button" value="Search" onclick="createQueryString();" />
              <input type="button" value="Cancel" onclick="show3d();" />
            </td>
          </tr>
        </table>
        <script type="text/javascript">
          function createQueryString () {
            var query;
            query="&ands="+ document.getElementById('ands').value;
            query+="&phrase="+ document.getElementById('phrase').value;
            query+="&ors="+ document.getElementById('ors').value;
            query+="&nots="+ document.getElementById('nots').value;
            query+="&tag="+ document.getElementById('tag').value;
            query+="&lang="+ document.getElementById('lang').value;
            query+="&from="+ document.getElementById('from').value;
            query+="&to="+ document.getElementById('to').value;
            query+="&ref="+ document.getElementById('ref').value;
            query+="&near="+ document.getElementById('near').value;
            query+="&within="+ document.getElementById('within').value;
            if (document.getElementById('units_mi').checked) {
              query+="&units=mi";
            } 
            else {
              query+="&units=km";
            }
            query+="&since="+ document.getElementById('since').value;
            query+="&until="+ document.getElementById('until').value;
            if (document.getElementById('tude1').checked ) {
              query+="&tude="+document.getElementById('tude1').value;
            }
            if (document.getElementById('tude2').checked ) {
              query+="&tude="+document.getElementById('tude2').value;
            }
            if (document.getElementById('tude3').checked ) {
              query+="&tude="+document.getElementById('tude3').value;
            }
            if (document.getElementById('filter').checked ) {
              query+="&tude="+document.getElementById('filter').value;
            }
            if (document.getElementById('include').checked ) {
              query+="&tude="+document.getElementById('include').value;
            }
            query+="&rpp="+document.getElementById('rpp').value;
            createTwitter(query);
            starupdateTimer();
            show3d();
          }
        </script>
      </form>
    </div>
    <div id="FlickrDiv">
    <form action="test.html" method="get">
      <b>Get photos based on...</b>
      <table>
      <tr>
        <td>
           Select Feed
        </td>
        <td>
          <select id="feed" name="feed" onchange="changeFeed();">
            <option value="http://api.flickr.com/services/feeds/photos_public.gne">Public feed</option>
            <option value="http://api.flickr.com/services/feeds/photos_friends.gne">Friends' feed</option>
            <option value="http://api.flickr.com/services/feeds/photos_faves.gne">Favorite photos feed</option>
            <option value="http://api.flickr.com/services/feeds/groups_pool.gne">Group pool feed</option>
          </select>
          <span id="desc"></span>
        </td>
      </tr>
      <tr id="UserId">
        <td>
           User ID (Not User Name)
        </td>
        <td>
          <input id="uid" name="uid" type="text" />
        </td>
      </tr>
      <tr id="UserIds">
        <td>
           User IDs
        </td>
        <td>
          <input id="uids" name="uids" type="text" /> (A comma delimited list of user IDs)
        </td>
      </tr>
      <tr id="Tags">
        <td>
           Tags
        </td>
        <td>
          <input id="tags" name="tags" type="text" />(A comma delimited list of tags)
        </td>
      </tr>
      <tr id="GroupID">
        <td>
           Group ID
        </td>
        <td>
          <input id="gid" name="gid" type="text" />
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input type="button" value="Search" onclick="createFlickrQueryString();" />
          <input type="button" value="Cancel" onclick="show3d();" />
        </td>
      </tr>
      </table>
    </form>
    <script type="text/javascript">
      document.getElementById("GroupID").setAttribute("style", "display:none;");
      document.getElementById('desc').innerHTML = "(public content matching some criteria)"
      function changeFeed() {
        document.getElementById('uid').value = "";
        document.getElementById("uids").value = "";
        document.getElementById("tags").value = "";
        document.getElementById("gid").value = "";
        if (document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_public.gne") {
          document.getElementById('desc').innerHTML = "(public content matching some criteria)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:table-row;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:table-row;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_friends.gne") {
          document.getElementById('desc').innerHTML = "(public content from the contacts, friends & family of a given person)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_faves.gne") {
          document.getElementById('desc').innerHTML = "(public favorites for a given user)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/groups_pool.gne") {
          document.getElementById('desc').innerHTML = "(things recently added to the pool of a given group.)"
          document.getElementById("GroupID").setAttribute("style", "display:table-row;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:none;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }  
      }
      function createFlickrQueryString() {
        var url=document.getElementById("feed").value;
        var query ="";
        if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_friends.gne") {
            if (document.getElementById("uid").value) {
            query+="&user_id="+ document.getElementById('uid').value;
          }
        }
        else {
          if (document.getElementById("uid").value) {
            query+="&id="+ document.getElementById('uid').value;
          }
        }
        if (document.getElementById("uids").value) {
          query+="&ids="+ document.getElementById('uids').value;
        }
        if (document.getElementById("tags").value) {
          query+="&tags="+ document.getElementById('tags').value;
        }
        if (document.getElementById("gid").value) {
          query+="&id="+ document.getElementById('gid').value;
        }
        createFlickr(url+"?"+query+"&lang=en-us&format=json&jsoncallback=?");
        show3d();
      }
    </script>
  </div>
    <div id="ImageSrcDiv">
      <form method="get">
        <b>Url of image...</b> <br/>
        <input id="cUrl" name="cUrl" type="text" />
        <input type="button" value="Search" onclick="createCustomImgObject(document.getElementById('cUrl').value);" />
        <input type="button" value="Cancel" onclick="show3d();" />
      </form>
    </div>
    <div id="VideoSrcDiv">
      <form method="get">
        <b>Url of video...</b> <br/>
        <input id="vUrl" name="vUrl" type="text" />
        <input type="button" value="Search" onclick="createVideoObject(document.getElementById('vUrl').value);" />
        <input type="button" value="Cancel" onclick="show3d();" />
      </form>
    </div>
  </body>
</html>
