<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
      SceneCreator
    </title>
    <link type="text/css" href="css/style.css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="js/jquery/jquery-ui-1.8.2.custom.min.js"></script>
    <script type="text/javascript" src="js/c3dl/c3dapi.js"></script>
    <script src="js/processing/processing.js"></script>
    <script type="text/javascript" src="js/scenecreator.js"></script>
    <script type="application/processing" id="twitterPjs">
      /* @pjs preload="images/twitter.jpg"; */
      int x, y;
      var canvasCtx;
      var userImages = [];
      void setup() {
        noLoop();
      }

      void draw(tweets,canvasIn) {	   
        y = 70;
        PImage logo;
        logo = loadImage("images/twitter.jpg");
        background(logo);
        fill(255);
        rect(20, 50, 216, 442);   
        if (tweets) {
          canvasCtx = canvasIn.getContext("2d");
          for (var i = 0; i < tweets.length && y < 400;i++) {
            x = 25
            //User Avatar
            userImages[i] = new Image();
            userImages[i].src= tweets[i].img;
            userImages[i].width =20;
            userImages[i].height =20;
            canvasCtx.drawImage(userImages[i],x,y-20,20,20);
            displayTweet(tweets[i]);
            
          }
        }
      }

      void displayTweet(tweet) {
        PFont fontA = loadFont("Arial");
        int fontSize=20;
        float myWidth;
        textFont(fontA, fontSize);
        //Name
        fill(0, 102, 153);
        text(tweet.user + ":", x+23, y);
        int fontSize=15;
        textFont(fontA, fontSize);
        y = y + fontSize-10;
        //Text
        fill(0, 102, 153);
        var height = Math.ceil(((fontA.width(tweet.text) * fontSize)*2) / 215);
        text(tweet.text, x, y,216,fontSize*height);
        y = y + fontSize*height;
      }
    </script>
    <script type="application/processing" id="ClockPjs">
    void setup() {
      size(256, 256);
      stroke(0);
      smooth();
    }
    void draw() {
      background(0);
      fill(255);
      noStroke();
      // Angles for sin() and cos() start at 3 o'clock;
      // subtract HALF_PI to make them start at the top
      ellipse(128, 128, 160, 160);
      float s = map(second(), 0, 60, 0, TWO_PI) + HALF_PI;
      float m = map(minute(), 0, 60, 0, TWO_PI) + HALF_PI;
      float h = map(hour() % 12, 0, 12, 0, TWO_PI) + HALF_PI;
      stroke(0);
      strokeWeight(1);
      line(128, 128, sin(s) * 72 + 128, cos(s) * 72 + 128);  
      strokeWeight(2);  
      line(128, 128, sin(m) * 60 + 128, cos(m) * 60 + 128);  
      strokeWeight(4);  
      line(128, 128, sin(h) * 50 + 128, cos(h) * 50 + 128);  
    }
    </script>
  </head>
  <body>
    <div id="mainButtons">
      <input type="button" value="2D" onclick="show2d();" />
      <input type="button" value="3D" onclick="show3d();" />
      <input type="button" value="Google3dWarhouse" onclick="showgoogle();" />
      <input type="button" value="Images" onclick="showImages();" />
      <br/>
    </div>
    <div id="viewerMain">
      <canvas id="objectViewer" style="" width="800" height="600"></canvas>
    </div>
    <div id="mainImages">
    </div>
    <div id="main3d">
      <div id="dialog-saveAs" title="Save As">
	      <form>
	      <fieldset>
		      <label for="name">File Name:</label>
		      <input type="text" name="name" id="name" class="ui-widget-content ui-corner-all" />
	      </fieldset>
	      </form>
      </div>
      <div id="dialog-load" title="Load">
	      <form>
	      <fieldset>
		      <label for="selectedname">Select file name:</label> <br />
		      <select id="selectedname" name="selectedname"></select>
	      </fieldset>
	      </form>
       </div>
      <table> 
        <tr>
          <td valign=top rowspan="4" id="sidebar"> 
            <h3>Items</h3>
            <div id="accordion">
              <div>
                <h3><a href="#">House Objects</a></h3>
                <div>        
                  <img src="images/sidebar/chair.jpg" width="25px" height="25px" onclick="createObject(0)" />
                  <img src="images/sidebar/table.jpg" width="25px" height="25px" onclick="createObject(1)" />    
                  <img src="images/sidebar/lamp.jpg" width="25px" height="25px" onclick="createObject(9)" /> 
                  <img src="images/sidebar/ceilinglamp.jpg" width="25px" height="25px" onclick="createObject(10)" /> 
                  <img src="images/sidebar/picture.jpg" width="25px" height="25px" onclick="createObject(11)" /> 					
                </div>
              </div>
              <div>
                <h3><a href="#">PacMan Objects</a></h3>
                <div>
                  <img src="images/sidebar/pacman.jpg" width="25px" height="25px" onclick="createObject(2)" />
                  <img src="images/sidebar/redghost.jpg" width="25px" height="25px" onclick="createObject(3)" /> 
                  <img src="images/sidebar/blueghost.jpg" width="25px" height="25px" onclick="createObject(4)" />
                  <img src="images/sidebar/orangeghost.jpg" width="25px" height="25px" onclick="createObject(5)" /> 
                  <img src="images/sidebar/pinkghost.jpg" width="25px" height="25px" onclick="createObject(6)" />
                  <img src="images/sidebar/bigball.jpg" width="25px" height="25px" onclick="createObject(7)" /> 
                  <img src="images/sidebar/smallball.jpg" width="25px" height="25px" onclick="createObject(8)" /> 
                </div>
              </div>
              <div>
                <h3><a href="#">Scene Caster Objects</a></h3>
                <div>
                  <img src="images/sidebar/SC.jpg" width="25px" height="25px" onclick="createObject(12)" /> 		
                  <img src="images/sidebar/twitter.jpg" width="25px" height="25px" onclick="showTwitter()" /> 		
                  <img src="images/sidebar/pjs.jpg" width="25px" height="25px" onclick="createClock()" /> 		
                  <img src="images/sidebar/flickr.jpg" width="25px" height="25px" onclick="showFlickr()" /> 		
                  <img src="images/sidebar/poster.jpg" width="25px" height="25px" onclick="showImageSrcDiv()" /> 	
                  <img src="images/sidebar/video.jpg" width="25px" height="25px" onclick="showVideoSrcDiv()" /> 	
                  <img src="images/sidebar/video.jpg" width="25px" height="25px" onclick="createTV()" /> 	
                </div>
              </div>
            </div>
          </td>
          <td colspan="2">
            <img src="images/icons/load.jpg" title="Load" onclick="load()" />
            <img src="images/icons/save.jpg" title="Save" onclick="save()" />
            <img src="images/icons/saveAs.jpg" title="SaveAs" onclick="saveAs()" />
            <img src="images/icons/undo.jpg" title="Undo" onclick="undo()" />
            <img src="images/icons/redo.jpg" title="Redo" onclick="redo()" />
            <img src="images/icons/copy.jpg" title="Copy" onclick="copySelected()" />
            <img src="images/icons/moveup.jpg" title="Move up" onmousedown="buttonOn(0)" onmouseup="buttonOff(0)" />
            <img src="images/icons/movedown.jpg" title="Move down" onmousedown="buttonOn(1)" onmouseup="buttonOff(1)" />
            <img src="images/icons/rotateleft.jpg" title="Rotate left" onmousedown="buttonOn(2)" onmouseup="buttonOff(2)" />
            <img src="images/icons/rotateright.jpg" title="Rotate right" onmousedown="buttonOn(3)" onmouseup="buttonOff(3)" />
            <img src="images/icons/rotate.jpg" title="Rotate" onclick="rotate()"/>
            <img src="images/icons/delete.jpg" title="Delete" onclick="deleteSelected()" />
            <img src="images/icons/scale.jpg" title="Scale" onclick="scale()"/>
            <img src="images/icons/viewobject.jpg" title="View Object" onclick="viewObject()"/>
            <img src="images/icons/lightup.jpg" title="Brighten scene" onmousedown="buttonOn(4)" onmouseup="buttonOff(4)" />
            <img src="images/icons/lightdown.jpg" title="Darken scene" onmousedown="buttonOn(5)" onmouseup="buttonOff(5)" />
            <a href="http://zenit.senecac.on.ca/wiki/index.php/SceneCreator" target="_blank"><img src="images/icons/help.jpg" title="Help/Info"/></a> 
            <input type="button" value="Move Widget" onclick="toggleMoveWidget();" />
            <input type="button" value="Scale Widget" onclick="toggleScaleWidget();" />
            <input type="button" value="Rotate Widget" onclick="toggleRotateWidget();" />
          </td>
        </tr>
        <tr>
          <td rowspan="3">
            <canvas id="SceneCaster3d" width="800" height="600"></canvas><br/>
            <span id="fps"></span> <br/>
            <span id="testing"></span>
          </td>
          <td valign=top>
            <table>
              <tr align=center>
                <td>Height</td>
                <td></td>
                <td></td>
                <td></td>
                <td>Zoom</td>
              </tr>
              <tr align=center>
                <td><input type="button" title="Increase camera height" value="+" onmousedown="buttonOn(6)" onmouseup="buttonOff(6)" /></td>
                <td></td>
                <td><input type="button" title="Move forward" value="&uarr;" onmousedown="buttonOn(10)" onmouseup="buttonOff(10)"/></td>
                <td></td>
                <td><input type="button" Title="Zoom in" value="+" onmousedown="buttonOn(8)" onmouseup="buttonOff(8)" /></td>
              </tr>
              <tr align=center>
                <td><div id="updownslider"></div></td>
                <td><input type="button" Title="Move left" value="&larr;" onmousedown="buttonOn(12)" onmouseup="buttonOff(12)" /></td>
                <td><input type="hidden" id="topview" value=""><canvas id="CameraWidget" data-processing-sources="js/camerawidget.pjs"></canvas></td>
                <td><input type="button" Title="Move right" value="&rarr;" onmousedown="buttonOn(13)" onmouseup="buttonOff(13)" /></td>
                <td><div id="zoomslider"></div></td>
              </tr>
              <tr align=center>
                <td><input type="button" title="Decrease camera height" value="-" onmousedown="buttonOn(7)" onmouseup="buttonOff(7)" /></td>
                <td></td>
                <td><input type="button" title="Move backward" value="&darr;" onmousedown="buttonOn(11)" onmouseup="buttonOff(11)"/></td>
                <td></td>
                <td><input type="button" title="Zoom out" value="-" onmousedown="buttonOn(9)" onmouseup="buttonOff(9)" /></td>
              </tr>
              <tr>
                <td colspan="5" align=center>
                  <input type="button" value="<< Cam" onclick="backCam()" />
                  <input type="button" value="Top View" onclick="topView()" />
                  <input type="button" value="Cam >>" onclick="forwardCam()" />
                </td>
              </tr>
            </table>
          </td>
        </tr>
        <tr valign=top>
          <td>
            <div id="scaleDiv">
              <h3>Size</h3>
              <form>
                <table>
                  <tr>  
                    <td>Length:</td>
                    <td><input type="text" id="length" onfocus="setCurLength()" onchange="maintainAspectRatioLength()"/></td> 
                  </tr>
                  <tr>
                    <td>Width:</td>
                    <td><input type="text" id="width" onfocus="setCurWidth()" onchange="maintainAspectRatioWidth()"/></td>      
                  </tr>
                  <tr>
                    <td>Hieght:</td>
                    <td><input type="text" id="height" onfocus="setCurHeigth()" onchange="maintainAspectRatioHeight()" /> </td>
                  </tr>
                </table>
                <input type="checkbox" checked=checked id="mar" /> Maintain Aspect Ratio<br />
                <input type="button" value="Back" onclick="scaleCancel()"/>
                <input type="button" value="OK" onclick="scaleOk()"/>
              </form>
              <script type="text/javascript">
                function scaleOk() {
                  setSize(document.getElementById("length").value, document.getElementById("width").value, document.getElementById("height").value);
                  scaleEffect();
                }
                function scaleCancel() {
                  scaleEffect();
                }               
                function maintainAspectRatioLength(){
                  document.getElementById("length").value = parseFloat(document.getElementById("length").value).toFixed(2);
                  if (document.getElementById("mar").checked) { 
                    newLength = document.getElementById("length").value;
                    if (newLength > oldLength) {
                      document.getElementById("width").value= (document.getElementById("width").value * (newLength / oldLength)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value* (newLength / oldLength)).toFixed(2);
                    }
                    else if (newLength < oldLength) {
                      document.getElementById("width").value= document.getElementById("width").value * 1/(oldLength / newLength).toFixed(2);
                      document.getElementById("height").value= document.getElementById("height").value * 1/(oldLength / newLength).toFixed(2);
                    }
                  }
                }
                function maintainAspectRatioWidth(){
                  document.getElementById("width").value = parseFloat(document.getElementById("width").value).toFixed(2);
                  if (document.getElementById("mar").checked) {
                    newWidth = document.getElementById("width").value;
                    if (newWidth > oldWidth) {
                      document.getElementById("length").value= (document.getElementById("length").value * (newWidth / oldWidth)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value* (newWidth / oldWidth)).toFixed(2);
                    }
                    else if (newWidth < oldWidth) {
                      document.getElementById("length").value= (document.getElementById("length").value * 1/(oldWidth / newWidth)).toFixed(2);
                      document.getElementById("height").value= (document.getElementById("height").value * 1/(oldWidth / newWidth)).toFixed(2);
                    }
                  }
                }
                function maintainAspectRatioHeight(){
                  document.getElementById("height").value = parseFloat(document.getElementById("height").value).toFixed(2);  
                  if (document.getElementById("mar").checked) {
                    newHeight = document.getElementById("height").value;
                    if (newHeight > oldHeight) {
                      document.getElementById("width").value= (document.getElementById("width").value * (newHeight / oldHeight)).toFixed(2);
                      document.getElementById("length").value= (document.getElementById("length").value* (newHeight / oldHeight)).toFixed(2);
                    }
                    else if (newHeight < oldHeight) {
                      document.getElementById("width").value= (document.getElementById("width").value * 1/(oldHeight / newHeight)).toFixed(2);
                      document.getElementById("length").value= (document.getElementById("length").value * 1/(oldHeight / newHeight)).toFixed(2);
                    }
                  }
                }
                function setCurHeigth() {
                  oldHeight= document.getElementById("height").value;
                }
                function setCurLength() {
                  oldLength= document.getElementById("length").value;
                 }
                function setCurWidth() {
                  oldWidth= document.getElementById("width").value;
                }
              </script>
            </div>
            <div id="rotateDiv">
              <h3>Rotation</h3>
              <form>
                <table>
                  <tr>  
                    <td>Axis</td>
                    <td>
                      <select id="rotAxis" name="rotAxis">
                        <option>X</option>
                        <option>Y</option>
                        <option>Z</option>
                      </select>     
                    </td> 
                  </tr>
                  <tr> 
                    <td>Angle:</td>
                    <td><input type="rotAngle" id="rotAngle" /></td>      
                  </tr>
                </table>
                <input type="button" value="Back" onclick="rotateCancel()"/>
                <input type="button" value="OK" onclick="rotateOk()"/>
              </form>
              <script type="text/javascript">
                function rotateOk() {
                  var axis = document.getElementById("rotAxis").value;
                  if (axis === "X") {
                    axis = [1,0,0];
                  }
                  else if (axis === "Y") {
                    axis = [0,1,0];
                  }
                  else {
                    axis = [0,0,1];
                  }
                  var rot = (parseFloat(document.getElementById("rotAngle").value) * Math.PI) /180;
                  rotateOnAxis(axis, rot);
                  rotateEffect();
                }
                function rotateCancel() {
                  rotateEffect();
                }  
              </script> 
            </div>
      
          </td>
        </tr>
          <td valign=bottom>
          <div id="objInfo">
              <h3>Object Info</h3>
              <img id= "objPic" width="50px" height="50px" />
              <table>
                <tr>  
                  <td>Name:</td>
                  <td><span id="objName"></span></td> 
                </tr>
                <tr> 
                  <td>Description:</td>
                  <td><span id="objDes"></span></td>      
                </tr>
                <tr> 
                  <td>Pos:</td>
                  <td><span id="objPos"></span></td>      
                </tr>
              </table>
              <span id="videoControls">
                <input type="button" value="Play" onclick="playVideo();" /> 
                <div id="seekSlider"></div>
                <input type="button" value="Mute" onclick="muteVideo();" /> 
                <div id="volumeSlider"></div> 
              </span>
              <span id="edit">
                <input type="button" value="Edit" onclick="editObject();" /> 
              </span>
            </div>
          </td>
        <tr>
        </tr>
      </table>
    </div>
    <div id="main2d">
      <table>
        <tr>
          <td>
            <input type="hidden" id="pressed" value="0">
            <input type="hidden" id="objects" value="">
            <img src="images/icons/load.jpg" title="Load" onclick="load()" />
            <img src="images/icons/save.jpg" title="Save" onclick="save()" />
            <img src="images/icons/saveAs.jpg" title="SaveAs" onclick="saveAs()" />
            <img src="images/icons/undo.jpg" title="Undo" onclick="Pressed(9)" />
            <img src="images/icons/redo.jpg" title="Redo" onclick="Pressed(10)" />
            <img src="images/icons/newpage.jpg" title="New" onclick="Pressed(1)" />
            <img src="images/icons/copy.jpg" title="Copy" onclick="Pressed(2)" />
            <img src="images/icons/delete.jpg" title="Delete" onclick="Pressed(3)" />
            <img src="images/icons/drawwall.jpg" title="Draw walls" onclick="Pressed(4)" />
            <img src="images/icons/addlight.jpg" title="Insert lights" onclick="Pressed(5)" />
            <!--<img src="images/icons/zoomin.jpg" title="Zoom in" onclick="Pressed(6)" />
            <img src="images/icons/zoomout.jpg" title="Zoom out" onclick="Pressed(7)" />
            <img src="images/icons/veiwall.jpg" title="View all" onclick="Pressed(8)" />-->
            <a href="http://zenit.senecac.on.ca/wiki/index.php/SceneCreator" target="_blank"><img src="images/icons/help.jpg" title="Help/Info"/></a> 
          </td>
        </tr>
        <tr>
          <td>
            <canvas id="SceneCaster2d" data-processing-sources="js/scenecreator2d.pjs" width="550" height="550"></canvas>
          </td>
        </tr>
      </table>
      <script>
        scaleEffect();
        rotateEffect();
        var Pressed = function Pressed(bvalue) {
          var bpressed = document.getElementById('pressed');
          bpressed.value = bvalue;
        }
       </script>
    </div>
    <div id="maingoogle">
      <table>
        <tr>
          <td>
            <input type="button" value="Back" onclick="google3d.history.back()">
            <input type="button" value="Forward" onclick="google3d.history.forward()"> 
          </td>
        </tr>
        <tr>
          <td>
            <!--<iframe id="google3d" width="800" height="600" src="http://sketchup.google.com/3dwarehouse/">-->
          </td>
        </tr>
      </table>
    </div>
    <div id="TwitterDiv">
      <form action="test.html" method="get">
        <table id="advForm" cellspacing="0">
        <tr>
          <td colspan="2">
            <b>Find tweets based on...</b>
          </td>
          <td>

          </td>
        </tr>
        <tr>
          <th>
            Words
          </th>
          <td>
            All of these words
          </td>
          <td>
            <input id="ands" name="ands" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            This exact phrase
          </td>
          <td>
            <input id="phrase" name="phrase" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Any of these words
          </td>
          <td>
            <input id="ors" name="ors" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            None of these words
          </td>
          <td>
            <input id="nots" name="nots" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            This hashtag
          </td>
          <td>
            <input id="tag" name="tag" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Written in
          </td>
          <td>
            <select id="lang" name="lang">
              <option value="all" selected="selected">Any Language</option>
              <option value="ar">Arabic (العربية)</option>
              <option value="da">Danish (dansk)</option>
              <option value="nl">Dutch (Nederlands)</option>
              <option value="en">English</option>
              <option value="fa">Farsi / Persian (فارسی)</option>
              <option value="fi">Finnish (suomen kieli)</option>
              <option value="fr">French (français)</option>
              <option value="de">German (Deutsch)</option>
              <option value="hu">Hungarian (Magyar)</option>
              <option value="is">Icelandic (Íslenska)</option>
              <option value="it">Italian (Italiano)</option>
              <option value="ja">Japanese (日本語)</option>
              <option value="no">Norwegian (Norsk)</option>
              <option value="pl">Polish (polski)</option>
              <option value="pt">Portuguese (Português)</option>
              <option value="ru">Russian (русский язык)</option>
              <option value="es">Spanish (español)</option>
              <option value="sv">Swedish (Svenska)</option>
              <option value="th">Thai (ไทย)</option>
            </select>
            <span>(persistent)</span>
          </td>
        </tr>
        <tr>
          <td colspan="3">
          </td>
        </tr>
        <tr>
          <th>
            People
          </th>
          <td>
            From this person
          </td>
          <td>
            <input id="from" name="from" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            To this person
          </td>
          <td>
            <input id="to" name="to" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Referencing this person
          </td>
          <td>
            <input id="ref" name="ref" type="text" />
          </td>
        </tr>
        <tr>
          <td colspan="3">
          </td>
        </tr>
        <tr>
          <th>
            Places
          </th>
          <td>
            Near this place
          </td>
          <td>
            <input id="near" name="near" type="text" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Within this distance
          </td>
          <td>
            <select id="within" name="within">
              <option value="1">1</option>
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="15" selected="selected">15</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="100">100</option>
              <option value="500">500</option>
              <option value="1000">1000</option>
            </select>
            <input checked="checked" id="units_mi" name="units" type="radio" value="mi" /> miles <input id="units_km" name="units" type="radio" value="km" /> kilometers
          </td>
        </tr>
        <tr>
          <td colspan="3">
          </td>
        </tr>
        <tr>
          <th>
            Dates
          </th>
          <td>
            Since this date
          </td>
          <td>
            <input id="since" name="since" type="text" /> (YYYY-MM-DD)
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Until this date
          </td>
          <td>
            <input id="until" name="until" type="text" /> (YYYY-MM-DD)
          </td>
        </tr>
        <tr>
          <td colspan="3">
          </td>
        </tr>
        <tr>
          <th>
            Attitudes
          </th>
          <td>
            With positive attitude :)
          </td>
          <td>
            <input id="tude1" name="tude1" type="checkbox" value=":)" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            With negative attitude :(
          </td>
          <td>
            <input id="tude2" name="tude2" type="checkbox" value=":(" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Asking a question ?
          </td>
          <td>
            <input id="tude3" name="tude3" type="checkbox" value="?" />
          </td>
        </tr>
        <tr>
          <td colspan="3">
          </td>
        </tr>
        <tr>
          <th>
            Other
          </th>
          <td>
            Containing links
          </td>
          <td>
            <input id="filter" name="filter" type="checkbox" value="links" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Include retweets
          </td>
          <td>
            <input id="include" name="include" type="checkbox" value="retweets" />
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td>
            Results per page
          </td>
          <td>
            <select id="rpp" name="rpp">
              <option value="10">10</option>
              <option value="15" selected="selected">15</option>
              <option value="20">20</option>
              <option value="25">25</option>
              <option value="30">30</option>
              <option value="50">50</option>
            </select>
            <span>(persistent)</span>
          </td>
        </tr>
        <tr>
          <th>
          </th>
          <td colspan="2">
            <input type="button" value="Search" onclick="createQueryString();" />
            <input type="button" value="Cancel" onclick="show3d();" />
          </td>
        </tr>
        </table>
        <script type="text/javascript">
          function createQueryString () {
            var query;
            query="&ands="+ document.getElementById('ands').value;
            query+="&phrase="+ document.getElementById('phrase').value;
            query+="&ors="+ document.getElementById('ors').value;
            query+="&nots="+ document.getElementById('nots').value;
            query+="&tag="+ document.getElementById('tag').value;
            query+="&lang="+ document.getElementById('lang').value;
            query+="&from="+ document.getElementById('from').value;
            query+="&to="+ document.getElementById('to').value;
            query+="&ref="+ document.getElementById('ref').value;
            query+="&near="+ document.getElementById('near').value;
            query+="&within="+ document.getElementById('within').value;
            if (document.getElementById('units_mi').checked) {
              query+="&units=mi";
            } 
            else {
              query+="&units=km";
            }
            query+="&since="+ document.getElementById('since').value;
            query+="&until="+ document.getElementById('until').value;
            if (document.getElementById('tude1').checked ) {
              query+="&tude="+document.getElementById('tude1').value;
            }
            if (document.getElementById('tude2').checked ) {
              query+="&tude="+document.getElementById('tude2').value;
            }
            if (document.getElementById('tude3').checked ) {
              query+="&tude="+document.getElementById('tude3').value;
            }
            if (document.getElementById('filter').checked ) {
              query+="&tude="+document.getElementById('filter').value;
            }
            if (document.getElementById('include').checked ) {
              query+="&tude="+document.getElementById('include').value;
            }
            query+="&rpp="+document.getElementById('rpp').value;
            createTwitter(query);
            starupdateTimer();
            show3d();
          }
        </script>
      </form>
    </div>
    <div id="FlickrDiv">
    <form action="test.html" method="get">
      <b>Get photos based on...</b>
      <table>
      <tr>
        <td>
           Select Feed
        </td>
        <td>
          <select id="feed" name="feed" onchange="changeFeed();">
            <option value="http://api.flickr.com/services/feeds/photos_public.gne">Public feed</option>
            <option value="http://api.flickr.com/services/feeds/photos_friends.gne">Friends' feed</option>
            <option value="http://api.flickr.com/services/feeds/photos_faves.gne">Favorite photos feed</option>
            <option value="http://api.flickr.com/services/feeds/groups_pool.gne">Group pool feed</option>
          </select>
          <span id="desc"></span>
        </td>
      </tr>
      <tr id="UserId">
        <td>
           User ID (Not User Name)
        </td>
        <td>
          <input id="uid" name="uid" type="text" />
        </td>
      </tr>
      <tr id="UserIds">
        <td>
           User IDs
        </td>
        <td>
          <input id="uids" name="uids" type="text" /> (A comma delimited list of user IDs)
        </td>
      </tr>
      <tr id="Tags">
        <td>
           Tags
        </td>
        <td>
          <input id="tags" name="tags" type="text" />(A comma delimited list of tags)
        </td>
      </tr>
      <tr id="GroupID">
        <td>
           Group ID
        </td>
        <td>
          <input id="gid" name="gid" type="text" />
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <input type="button" value="Search" onclick="createFlickrQueryString();" />
          <input type="button" value="Cancel" onclick="show3d();" />
        </td>
      </tr>
      </table>
    </form>
    <script type="text/javascript">
      document.getElementById("GroupID").setAttribute("style", "display:none;");
      document.getElementById('desc').innerHTML = "(public content matching some criteria)"
      function changeFeed() {
        document.getElementById('uid').value = "";
        document.getElementById("uids").value = "";
        document.getElementById("tags").value = "";
        document.getElementById("gid").value = "";
        if (document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_public.gne") {
          document.getElementById('desc').innerHTML = "(public content matching some criteria)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:table-row;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:table-row;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_friends.gne") {
          document.getElementById('desc').innerHTML = "(public content from the contacts, friends & family of a given person)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_faves.gne") {
          document.getElementById('desc').innerHTML = "(public favorites for a given user)"
          document.getElementById("GroupID").setAttribute("style", "display:none;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:table-row;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }
        else if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/groups_pool.gne") {
          document.getElementById('desc').innerHTML = "(things recently added to the pool of a given group.)"
          document.getElementById("GroupID").setAttribute("style", "display:table-row;");
          document.getElementById("Tags").setAttribute("style", "display:none;");
          document.getElementById("UserId").setAttribute("style", "display:none;");
          document.getElementById("UserIds").setAttribute("style", "display:none;");
        }  
      }
      function createFlickrQueryString() {
        var url=document.getElementById("feed").value;
        var query ="";
        if(document.getElementById("feed").value === "http://api.flickr.com/services/feeds/photos_friends.gne") {
            if (document.getElementById("uid").value) {
            query+="&user_id="+ document.getElementById('uid').value;
          }
        }
        else {
          if (document.getElementById("uid").value) {
            query+="&id="+ document.getElementById('uid').value;
          }
        }
        if (document.getElementById("uids").value) {
          query+="&ids="+ document.getElementById('uids').value;
        }
        if (document.getElementById("tags").value) {
          query+="&tags="+ document.getElementById('tags').value;
        }
        if (document.getElementById("gid").value) {
          query+="&id="+ document.getElementById('gid').value;
        }
        createFlickr(url+"?"+query+"&lang=en-us&format=json&jsoncallback=?");
        show3d();
      }
    </script>
  </div>
    <div id="ImageSrcDiv">
      <form action="test.html" method="get">
        <b>Url of image...</b> <br/>
        <input id="cUrl" name="cUrl" type="text" />
        <input type="button" value="Search" onclick="createCustomImgObject(document.getElementById('cUrl').value);" />
        <input type="button" value="Cancel" onclick="show3d();" />
      </form>
    </div>
    <div id="VideoSrcDiv">
    <form action="test.html" method="get">
      <b>Url of video...</b> <br/>
      <input id="vUrl" name="vUrl" type="text" />
      <input type="button" value="Search" onclick="createVideoObject(document.getElementById('vUrl').value);" />
      <input type="button" value="Cancel" onclick="show3d();" />
    </form>
  </div>
  </body>
</html>
